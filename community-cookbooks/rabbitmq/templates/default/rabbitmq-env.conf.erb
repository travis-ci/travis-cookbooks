###
# Generated by Chef
###

<% if node['rabbitmq']['local_erl_networking'] -%>
NODENAME=rabbit@localhost
NODE_IP_ADDRESS=127.0.0.1
export ERL_EPMD_ADDRESS=127.0.0.1
<% elsif node['rabbitmq']['erl_networking_bind_address'] -%>
NODENAME=<%= node['rabbitmq']['nodename'] %>
NODE_IP_ADDRESS=<%= node['rabbitmq']['erl_networking_bind_address'] %>
export ERL_EPMD_ADDRESS=<%= node['rabbitmq']['erl_networking_bind_address'] %>
<% else -%>
<% if node['rabbitmq']['address'] -%>NODE_IP_ADDRESS=<%= node['rabbitmq']['address'] %><% end %>
<% if node['rabbitmq']['nodename'] -%>NODENAME=<%= node['rabbitmq']['nodename'] %><% end %>
<% end -%>
<% if node['rabbitmq']['port'] -%>NODE_PORT=<%= node['rabbitmq']['port'] %><% end %>
<% if node['rabbitmq']['config'] -%>CONFIG_FILE=<%= node['rabbitmq']['config'] %><% end %>
<% if node['rabbitmq']['logdir'] -%>LOG_BASE=<%= node['rabbitmq']['logdir'] %><% end %>
<% if node['rabbitmq']['mnesiadir'] -%>MNESIA_BASE=<%= node['rabbitmq']['mnesiadir'] %><% end %>
<% if node['rabbitmq']['server_additional_erl_args'] -%>SERVER_ADDITIONAL_ERL_ARGS='<%= node['rabbitmq']['server_additional_erl_args'] %>'<% end %>
<% if node['rabbitmq']['ctl_erl_args'] -%>CTL_ERL_ARGS='<%= node['rabbitmq']['ctl_erl_args'] %>'<% end %>
<% if node['rabbitmq']['additional_env_settings'] -%>
# Additional ENV settings
<% node['rabbitmq']['additional_env_settings'].each do |line| -%>
<%= line %>
<% end -%>
<% end -%>
